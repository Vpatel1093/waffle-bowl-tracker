<!-- Team Details Component -->
{% if team %}
    <div class="space-y-4">
        <!-- Team Header -->
        <div class="border-b pb-4">
            <h4 class="text-2xl font-bold text-gray-900">{{ team.name }}</h4>
            <div class="flex items-center gap-4 mt-2 text-sm text-gray-600">
                <span>Manager: {{ team.manager }}</span>
                <span>•</span>
                <span>Record: {{ team.wins }}-{{ team.losses }}-{{ team.ties }}</span>
                <span>•</span>
                <span>Waffle Seed: #{{ team.waffle_seed }}</span>
            </div>
        </div>

        <!-- Team Stats -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="bg-gray-50 rounded-lg p-3">
                <div class="text-xs text-gray-500 mb-1">Points For</div>
                <div class="text-xl font-bold text-gray-900">{{ "%.1f"|format(team.points_for) }}</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
                <div class="text-xs text-gray-500 mb-1">Points Against</div>
                <div class="text-xl font-bold text-gray-900">{{ "%.1f"|format(team.points_against) }}</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
                <div class="text-xs text-gray-500 mb-1">Rank</div>
                <div class="text-xl font-bold text-gray-900">#{{ team.rank }}</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
                <div class="text-xs text-gray-500 mb-1">PPG</div>
                <div class="text-xl font-bold text-gray-900">
                    {{ "%.1f"|format(team.points_for / (team.wins + team.losses) if (team.wins + team.losses) > 0 else 0) }}
                </div>
            </div>
        </div>

        <!-- Roster (if available) -->
        {% if roster and roster.players %}
            <div>
                <h5 class="font-semibold text-gray-900 mb-3">Current Roster (Week {{ roster.week }})</h5>
                <div class="max-h-96 overflow-y-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50 sticky top-0">
                            <tr>
                                <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase">Slot</th>
                                <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase">Player</th>
                                <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase">Team</th>
                                <th class="px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase">Points</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            {% for player in roster.players %}
                                <tr class="{% if player.selected_position != 'BN' %}bg-green-50{% endif %}">
                                    <td class="px-3 py-2 text-sm">
                                        <span class="px-2 py-1 bg-gray-200 rounded text-xs font-semibold">
                                            {{ player.selected_position }}
                                        </span>
                                    </td>
                                    <td class="px-3 py-2 text-sm font-medium text-gray-900">
                                        {{ player.name }}
                                        <span class="text-gray-500 text-xs ml-1">({{ player.position }})</span>
                                    </td>
                                    <td class="px-3 py-2 text-sm text-gray-600">{{ player.team }}</td>
                                    <td class="px-3 py-2 text-sm text-right font-semibold">
                                        {{ "%.1f"|format(player.points) }}
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot class="bg-gray-50">
                            <tr>
                                <td colspan="3" class="px-3 py-2 text-sm font-bold text-gray-900">Total</td>
                                <td class="px-3 py-2 text-sm font-bold text-gray-900 text-right">
                                    {{ "%.1f"|format(roster.players|sum(attribute='points')) }}
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        {% endif %}
    </div>
{% else %}
    <div class="text-center py-8">
        <p class="text-gray-600">Failed to load team details.</p>
    </div>
{% endif %}
